<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pet Diary Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['"Noto Sans JP"', 'sans-serif'],
          },
        }
      }
    }
  </script>
</head>
<body class="bg-gradient-to-r from-slate-100 to-sky-100 text-gray-800 min-h-screen flex flex-col">
  <div class="container mx-auto px-4 py-8 max-w-3xl flex-grow">
    <!-- Header Section -->
    <header class="text-center mb-8 sm:mb-12">
      <img src="https://storage.googleapis.com/zenn-user-upload/9961b200ccfe-20250628.png" alt="Digital pet delivering a letter" class="w-full max-w-xs sm:max-w-sm md:max-w-md mx-auto mb-6 sm:mb-8 rounded-lg shadow-lg">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-sky-700">Travel Pet Demo</h1>
      <p class="mt-2 text-base sm:text-lg text-slate-600">Let your digital pet explore and send you a diary!</p>
    </header>

    <!-- Main Content Section -->
    <main class="bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-2xl">
      <div class="flex flex-col items-center mb-6 sm:mb-8">
        <button id="generateButton" class="bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 text-base sm:py-3 sm:px-6 sm:text-lg md:text-xl rounded-lg disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-150 ease-in-out">
          Generate Diary
        </button>
        <div id="loader" class="mt-4 sm:mt-6 border-4 border-slate-200 border-t-sky-600 rounded-full w-8 h-8 sm:w-10 sm:h-10 animate-spin" style="display:none;"></div>
      </div>

      <!-- Output Sections Wrapper -->
      <div class="space-y-6 sm:space-y-8">
        <div id="petDetails" class="p-4 sm:p-6 border border-slate-200 rounded-lg bg-slate-50/50 shadow-sm" style="display:none;">
          <h2 class="text-xl sm:text-2xl font-semibold text-sky-700 mb-2 sm:mb-3">Pet Details</h2>
          <pre id="petOutput" class="text-xs sm:text-sm whitespace-pre-wrap break-words bg-white p-3 sm:p-4 rounded-md shadow-inner border border-slate-200 min-h-[40px] sm:min-h-[50px]"></pre>
        </div>
        <div id="destinationDetails" class="p-4 sm:p-6 border border-slate-200 rounded-lg bg-slate-50/50 shadow-sm" style="display:none;">
          <h2 class="text-xl sm:text-2xl font-semibold text-sky-700 mb-2 sm:mb-3">Destination</h2>
          <pre id="destinationOutput" class="text-xs sm:text-sm whitespace-pre-wrap break-words bg-white p-3 sm:p-4 rounded-md shadow-inner border border-slate-200 min-h-[40px] sm:min-h-[50px]"></pre>
        </div>
        <div id="diaryDetails" class="p-4 sm:p-6 border border-slate-200 rounded-lg bg-slate-50/50 shadow-sm" style="display:none;">
          <h2 class="text-xl sm:text-2xl font-semibold text-sky-700 mb-2 sm:mb-3">Diary Entry</h2>
          <pre id="diaryOutput" class="text-xs sm:text-sm whitespace-pre-wrap break-words bg-white p-3 sm:p-4 rounded-md shadow-inner border border-slate-200 min-h-[40px] sm:min-h-[50px]"></pre>
        </div>
        <div id="imageDetails" class="p-4 sm:p-6 border border-slate-200 rounded-lg bg-slate-50/50 shadow-sm" style="display:none;">
          <h2 class="text-xl sm:text-2xl font-semibold text-sky-700 mb-2 sm:mb-3">Diary Image</h2>
          <img id="imageOutput" class="max-w-full h-auto rounded-md shadow" alt="Generated image" />
        </div>
        <div id="errorDetails" class="p-4 sm:p-6 border border-red-300 rounded-lg bg-red-100 text-red-700 shadow-sm" style="display:none;">
          <h2 class="text-xl sm:text-2xl font-semibold mb-2 sm:mb-3 text-red-600">Error</h2>
          <pre id="errorOutput" class="text-xs sm:text-sm whitespace-pre-wrap break-words bg-white p-3 sm:p-4 rounded-md shadow-inner border border-red-200 min-h-[40px] sm:min-h-[50px]"></pre>
        </div>
      </div>
    </main>
  </div>

  <!-- 1) Compat SDKs for Hosting -->
  <script src="/__/firebase/9.0.0/firebase-app-compat.js"></script>
  <script src="/__/firebase/9.0.0/firebase-functions-compat.js"></script>
  <!-- 2) Auto-initialize + auto-emulator wiring -->
  <script src="/__/firebase/init.js?useEmulator=true"></script>

  <!-- 3) App logic using the global `firebase` object -->
  <script src="script.js"></script>
</body>
</html>
